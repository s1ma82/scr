import{r as j,j as n,u as H,T as V,R as q,b as J}from"./index-BYT0V1gO.js";import{B as K}from"./index-BYWxSTIH.js";import{u as Q,N as E}from"./index-BW1To2sF.js";import"./Add-DfPP2A7M.js";import"./Tooltip-Dkvm1Azr.js";import"./index-ygdnjEke.js";import"./Edit-BXfskQEj.js";import"./NoteAdd-BSkyQwFr.js";import"./index-DRW46cB-.js";import"./index-DilHGBfU.js";const X={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Y(s,t){const e=s.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,s)}function Z(s,t){const e=s.rootNode();return t&&t(e)||e}function h(s={}){let t,e,u,p,c=null,a=0,r=!1,o=!1,m=!1,g=!1;function $(i,f){e=i;const{mergeOptions:y,optionsAtMedia:b}=f,W=y(X,h.globalOptions),z=y(W,s);if(t=b(z),e.scrollSnapList().length<=1)return;g=t.jump,u=!1,p=Y(e,t.delay);const{eventStore:w,ownerDocument:G}=e.internalEngine(),N=!!e.internalEngine().options.watchDrag,O=Z(e,t.rootNode);w.add(G,"visibilitychange",A),N&&e.on("pointerDown",I),N&&!t.stopOnInteraction&&e.on("pointerUp",v),t.stopOnMouseEnter&&w.add(O,"mouseenter",R),t.stopOnMouseEnter&&!t.stopOnInteraction&&w.add(O,"mouseleave",C),t.stopOnFocusIn&&e.on("slideFocusStart",d),t.stopOnFocusIn&&!t.stopOnInteraction&&w.add(e.containerNode(),"focusout",_),t.playOnInit&&_()}function D(){e.off("pointerDown",I).off("pointerUp",v).off("slideFocusStart",d),d(),u=!0,r=!1}function T(){const{ownerWindow:i}=e.internalEngine();i.clearTimeout(a),a=i.setTimeout(P,p[e.selectedScrollSnap()]),c=new Date().getTime(),e.emit("autoplay:timerset")}function L(){const{ownerWindow:i}=e.internalEngine();i.clearTimeout(a),a=0,c=null,e.emit("autoplay:timerstopped")}function _(){if(!u){if(S()){m=!0;return}r||e.emit("autoplay:play"),T(),r=!0}}function d(){u||(r&&e.emit("autoplay:stop"),L(),r=!1)}function A(){if(S())return m=r,d();m&&_()}function S(){const{ownerDocument:i}=e.internalEngine();return i.visibilityState==="hidden"}function I(){o||d()}function v(){o||_()}function R(){o=!0,d()}function C(){o=!1,_()}function U(i){typeof i<"u"&&(g=i),_()}function F(){r&&d()}function B(){r&&_()}function M(){return r}function P(){const{index:i}=e.internalEngine(),f=i.clone().add(1).get(),y=e.scrollSnapList().length-1,b=t.stopOnLastSnap&&f===y;if(e.canScrollNext()?e.scrollNext(g):e.scrollTo(0,g),e.emit("autoplay:select"),b)return d();_()}function k(){if(!c)return null;const i=p[e.selectedScrollSnap()],f=new Date().getTime()-c;return i-f}return{name:"autoplay",options:s,init:$,destroy:D,play:U,stop:F,reset:B,isPlaying:M,timeUntilNext:k}}h.globalOptions=void 0;const ee="_banner_1jylx_2",te="_embla_1jylx_15",ne="_emblaContainer_1jylx_20",se="_emblaSlide_1jylx_24",x={banner:ee,embla:te,emblaContainer:ne,emblaSlide:se};var oe={API_URL:"https://scr.opolo.me/api"};const ie=({images:s,children:t,className:e,src:u,...p})=>{const[c,a]=Q({loop:!0},[h({jump:!1,delay:3e3,stopOnInteraction:!1})]);return j.useEffect(()=>{!a||!s||s.length===0||a.reInit()},[a,s]),n.jsxs("a",{className:`${x.banner} ${e}`,...p,children:[t,s&&s.length>0&&n.jsx("div",{className:x.embla,ref:c,children:n.jsx("div",{className:x.emblaContainer,children:s.map((r,o)=>n.jsx("div",{className:x.emblaSlide,children:n.jsx("img",{src:`${oe.API_URL}/files/${r.avatar}`,alt:`Баннер ${o+1}`})},o))})})]})},ae="_news_6pi5g_1",re="_news_container_6pi5g_6",le="_news__title_6pi5g_11",ce="_news__cards_container_6pi5g_16",_e="_news__cards_6pi5g_16",de="_card_6pi5g_23",ue="_maxy_6pi5g_32",pe="_card__text_6pi5g_38",me="_card__title_6pi5g_43",fe="_card__tags_6pi5g_47",ge="_card__descr_6pi5g_50",ye="_card__img_6pi5g_53",we="_mini_6pi5g_64",l={news:ae,news_container:re,news__title:le,news__cards_container:ce,news__cards:_e,card:de,maxy:ue,card__text:pe,card__title:me,card__tags:fe,card__descr:ge,card__img:ye,mini:we},De=({children:s,className:t,...e})=>{const[u,p]=j.useState([]),{catalogs:c,newsList:a}=H(o=>o.catalogs),r=async()=>{const o=await J("banner");o&&p(o)};return j.useEffect(()=>{r()},[c]),n.jsx("div",{className:`${l.news} ${t} `,...e,children:n.jsxs("div",{className:`container ${l.news_container}`,children:[n.jsx(ie,{images:u}),n.jsxs("div",{className:l.news__title,children:[n.jsx(V,{children:"Недавние новости"}),n.jsx(q,{to:"/news",children:n.jsx(K,{color:"white",children:"Читать ещё"})})]}),n.jsxs("div",{className:l.news__cards_container,children:[n.jsx("div",{className:`${l.news__cards} ${l.maxy}`,children:a&&n.jsx(E,{styles:l,data:a[0]})}),n.jsx("div",{className:`${l.news__cards} ${l.mini}`,children:a&&a.slice(1,4).map((o,m)=>n.jsx(E,{styles:l,data:o,index:m},`${o.id}#${m}`))})]})]})})};export{De as default};
