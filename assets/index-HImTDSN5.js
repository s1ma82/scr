import{r as k,j as n,u as H,T as V,R as q,B as J,b as K}from"./index-CH-ny8eQ.js";import{u as Q,N as O}from"./index-ZH_8hlvi.js";import"./Add-NSZeVpID.js";import"./Tooltip-BH5t9P2J.js";import"./index-DRMgvrS-.js";import"./Edit-DCQ6UuRp.js";import"./NoteAdd-6MNim1Uz.js";import"./MenuItem-LvDO67tn.js";import"./index-C9x5bRXR.js";import"./index-7BngWCIe.js";const X={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Y(s,t){const e=s.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,s)}function Z(s,t){const e=s.rootNode();return t&&t(e)||e}function j(s={}){let t,e,u,m,c=null,i=0,r=!1,a=!1,p=!1,x=!1;function E(o,f){e=o;const{mergeOptions:y,optionsAtMedia:b}=f,W=y(X,j.globalOptions),z=y(W,s);if(t=b(z),e.scrollSnapList().length<=1)return;x=t.jump,u=!1,m=Y(e,t.delay);const{eventStore:w,ownerDocument:G}=e.internalEngine(),v=!!e.internalEngine().options.watchDrag,N=Z(e,t.rootNode);w.add(G,"visibilitychange",L),v&&e.on("pointerDown",S),v&&!t.stopOnInteraction&&e.on("pointerUp",I),t.stopOnMouseEnter&&w.add(N,"mouseenter",A),t.stopOnMouseEnter&&!t.stopOnInteraction&&w.add(N,"mouseleave",R),t.stopOnFocusIn&&e.on("slideFocusStart",d),t.stopOnFocusIn&&!t.stopOnInteraction&&w.add(e.containerNode(),"focusout",_),t.playOnInit&&_()}function $(){e.off("pointerDown",S).off("pointerUp",I).off("slideFocusStart",d),d(),u=!0,r=!1}function D(){const{ownerWindow:o}=e.internalEngine();o.clearTimeout(i),i=o.setTimeout(M,m[e.selectedScrollSnap()]),c=new Date().getTime(),e.emit("autoplay:timerset")}function T(){const{ownerWindow:o}=e.internalEngine();o.clearTimeout(i),i=0,c=null,e.emit("autoplay:timerstopped")}function _(){if(!u){if(h()){p=!0;return}r||e.emit("autoplay:play"),D(),r=!0}}function d(){u||(r&&e.emit("autoplay:stop"),T(),r=!1)}function L(){if(h())return p=r,d();p&&_()}function h(){const{ownerDocument:o}=e.internalEngine();return o.visibilityState==="hidden"}function S(){a||d()}function I(){a||_()}function A(){a=!0,d()}function R(){a=!1,_()}function C(o){typeof o<"u"&&(x=o),_()}function U(){r&&d()}function F(){r&&_()}function B(){return r}function M(){const{index:o}=e.internalEngine(),f=o.clone().add(1).get(),y=e.scrollSnapList().length-1,b=t.stopOnLastSnap&&f===y;if(e.canScrollNext()?e.scrollNext(x):e.scrollTo(0,x),e.emit("autoplay:select"),b)return d();_()}function P(){if(!c)return null;const o=m[e.selectedScrollSnap()],f=new Date().getTime()-c;return o-f}return{name:"autoplay",options:s,init:E,destroy:$,play:C,stop:U,reset:F,isPlaying:B,timeUntilNext:P}}j.globalOptions=void 0;const ee="_banner_1jylx_2",te="_embla_1jylx_15",ne="_emblaContainer_1jylx_20",se="_emblaSlide_1jylx_24",g={banner:ee,embla:te,emblaContainer:ne,emblaSlide:se};var ae={API_URL:"https://scr.opolo.me/api"};const oe=({images:s,children:t,className:e,src:u,...m})=>{const[c,i]=Q({loop:!0},[j({jump:!1,delay:3e3,stopOnInteraction:!1})]);return k.useEffect(()=>{!i||!s||s.length===0||i.reInit()},[i,s]),n.jsxs("a",{className:`${g.banner} ${e}`,...m,children:[t,s&&s.length>0&&n.jsx("div",{className:g.embla,ref:c,children:n.jsx("div",{className:g.emblaContainer,children:s.map((r,a)=>n.jsx("div",{className:g.emblaSlide,children:n.jsx("img",{src:`${ae.API_URL}/files/${r.avatar}`,alt:`Баннер ${a+1}`})},a))})})]})},ie="_news_xlkak_1",re="_news_container_xlkak_6",le="_news__title_xlkak_11",ce="_news__cards_container_xlkak_16",_e="_news__cards_xlkak_16",de="_card_xlkak_23",ue="_maxy_xlkak_32",me="_card__text_xlkak_38",pe="_card__title_xlkak_43",fe="_card__tags_xlkak_47",xe="_card__descr_xlkak_50",ye="_card__img_xlkak_53",we="_mini_xlkak_64",l={news:ie,news_container:re,news__title:le,news__cards_container:ce,news__cards:_e,card:de,maxy:ue,card__text:me,card__title:pe,card__tags:fe,card__descr:xe,card__img:ye,mini:we},$e=({children:s,className:t,...e})=>{const[u,m]=k.useState([]),{catalogs:c,newsList:i}=H(a=>a.catalogs),r=async()=>{const a=await K("banner");a&&m(a)};return k.useEffect(()=>{r()},[c]),n.jsx("div",{className:`${l.news} ${t} `,...e,children:n.jsxs("div",{className:`container ${l.news_container}`,children:[n.jsx(oe,{images:u}),n.jsxs("div",{className:l.news__title,children:[n.jsx(V,{children:"Недавние новости"}),n.jsx(q,{to:"/news",children:n.jsx(J,{color:"white",children:"Читать ещё"})})]}),n.jsxs("div",{className:l.news__cards_container,children:[n.jsx("div",{className:`${l.news__cards} ${l.maxy}`,children:i&&n.jsx(O,{styles:l,data:i[0]})}),n.jsx("div",{className:`${l.news__cards} ${l.mini}`,children:i&&i.slice(1,4).map((a,p)=>n.jsx(O,{styles:l,data:a,index:p},`${a.id}#${p}`))})]})]})})};export{$e as default};
